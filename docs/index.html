
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-c9d8fa83.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-e033bdd3.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;java&quot;,&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-219b067f.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#change-log" class="toc-h1 toc-link" data-title="Change Log">Change Log</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#2021-06-04" class="toc-h2 toc-link" data-title="2021-06-04">2021-06-04</a>
                  </li>
                  <li>
                    <a href="#2021-05-21" class="toc-h2 toc-link" data-title="2021-05-21">2021-05-21</a>
                  </li>
                  <li>
                    <a href="#2021-04-20" class="toc-h2 toc-link" data-title="2021-04-20">2021-04-20</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#rest-api" class="toc-h2 toc-link" data-title="REST API">REST API</a>
                  </li>
                  <li>
                    <a href="#websocket-api" class="toc-h2 toc-link" data-title="WebSocket API">WebSocket API</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#general-info" class="toc-h1 toc-link" data-title="General Info">General Info</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#api-urls" class="toc-h2 toc-link" data-title="API URLs">API URLs</a>
                  </li>
                  <li>
                    <a href="#limits" class="toc-h2 toc-link" data-title="Limits">Limits</a>
                  </li>
                  <li>
                    <a href="#security" class="toc-h2 toc-link" data-title="Security">Security</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication-2" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#signature" class="toc-h2 toc-link" data-title="Signature">Signature</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#market-data-api" class="toc-h1 toc-link" data-title="Market Data API">Market Data API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#asset-price" class="toc-h2 toc-link" data-title="Asset Price">Asset Price</a>
                  </li>
                  <li>
                    <a href="#funding-rate" class="toc-h2 toc-link" data-title="Funding Rate">Funding Rate</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#trade-api" class="toc-h1 toc-link" data-title="Trade API">Trade API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#place-order" class="toc-h2 toc-link" data-title="Place Order">Place Order</a>
                  </li>
                  <li>
                    <a href="#query-order" class="toc-h2 toc-link" data-title="Query Order">Query Order</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#account-api" class="toc-h1 toc-link" data-title="Account API">Account API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#query-account-balance" class="toc-h2 toc-link" data-title="Query Account Balance">Query Account Balance</a>
                  </li>
                  <li>
                    <a href="#leverage-adjustment" class="toc-h2 toc-link" data-title="Leverage Adjustment">Leverage Adjustment</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-api-3" class="toc-h1 toc-link" data-title="WebSocket API">WebSocket API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication-3" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#live-check-ping-pong" class="toc-h2 toc-link" data-title="Live check (Ping/Pong)">Live check (Ping/Pong)</a>
                  </li>
                  <li>
                    <a href="#session-limit" class="toc-h2 toc-link" data-title="Session limit">Session limit</a>
                  </li>
                  <li>
                    <a href="#subscribe-topics" class="toc-h2 toc-link" data-title="Subscribe Topics">Subscribe Topics</a>
                  </li>
                  <li>
                    <a href="#price-data-stream" class="toc-h2 toc-link" data-title="Price Data Stream">Price Data Stream</a>
                  </li>
                  <li>
                    <a href="#account-update" class="toc-h2 toc-link" data-title="Account Update">Account Update</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#reference" class="toc-h1 toc-link" data-title="Reference">Reference</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#asset-reference" class="toc-h2 toc-link" data-title="Asset Reference">Asset Reference</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Copyright by KINE</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='change-log'>Change Log</h1><h2 id='2021-06-04'>2021-06-04</h2>
<ul>
<li>Rearrange sections regarding signature and correct typos.</li>
</ul>
<h2 id='2021-05-21'>2021-05-21</h2>
<ul>
<li>Correct request headers names.</li>
</ul>
<h2 id='2021-04-20'>2021-04-20</h2>
<ul>
<li>Initial version.</li>
</ul>
<h1 id='introduction'>Introduction</h1>
<p>Welcome to the KINE API.</p>

<p>You can use these APIs introduced in this document to access KINE API endpoints, which provide access to place orders,
and information on your open interest, debt etc. in our system.</p>

<p>We provide two types of interfaces, REST and WebSocket, and you can choose either one according to your scenario and
preferences.</p>
<h2 id='rest-api'>REST API</h2>
<p>It is suggested to use Rest API for one-off operation, like placing order and withdraw.</p>
<h2 id='websocket-api'>WebSocket API</h2>
<p>It is suggested to use WebSocket API to get data update, like market data and account status update.</p>
<h2 id='authentication'>Authentication</h2>
<p>Both REST and WebSocket APIs involve two levels of security types:</p>

<p>Public: For basic information and market data, and do not need authentication.</p>

<p>Private: For account related operation like placing order and account management. Each private API endpoint must be
authenticated with API keys of corresponding permission, i.e., <code>SIGNED</code>.</p>
<h1 id='general-info'>General Info</h1><h2 id='api-urls'>API URLs</h2><h3 id='rest-api-2'>REST API</h3>
<p><code>https://api.kine.exchange</code></p>
<h3 id='websocket-api-2'>WebSocket API</h3>
<p><code>wss://api.kine.exchange/ws</code></p>
<h2 id='limits'>Limits</h2>
<p>For each REST endpoints there is a rate limit, which will be introduced along with its definition. If requests from the
same IP (for open APIs), or the same user ID (for signed APIs) exceeds the limit, an HTTP 429 response will be returned
to the caller.</p>

<p>For websocket connections, there are limits to connections, message rate, and max live time. Please see
the <code>WebSocket API</code> - <code>Session limit</code> section for details.</p>
<h2 id='security'>Security</h2><h3 id='signed-endpoint-security'>Signed Endpoint Security</h3>
<p><code>SIGNED</code> endpoints require additional headers in request: <code>KINE-API-ACCESS-KEY</code>, <code>KINE-API-TS</code>,<code>KINE-API-SIGNATURE</code>.</p>

<ul>
<li><code>KINE-API-ACCESS-KEY</code> should be your API key with proper permission.</li>
<li><code>KINE-API-SIGNATURE</code> shoule be the <code>HMAC SHA256</code> signature. The HMAC SHA256 signature is a keyed HMAC SHA256
operation. Use your <code>SecretKey</code> as the key and all parameters as the value for the HMAC operation. More detail refer
to <code>Authentication</code> section.</li>
<li><code>KINE-API-TS</code> should be the millisecond timestamp of when the request was created and sent.</li>
</ul>
<h3 id='how-to-generate-your-api-keys'>How to generate your API keys?</h3>
<p>Please go to API management page of Kine exchange (https://kine.exchange/account/api-key) to generate your API keys.</p>

<p><code>API Key</code> is used in an API request for identification.</p>

<p><code>SecretKey</code> is used to generate the signature. (Only visible once after creation. Please keep it safe!!!)</p>

<p>API Key Permissions</p>

<ul>
<li><code>ReadOnly</code> permission grants the access to data queries, such as order history and account status.</li>
<li><code>Trade</code> permission allows API key to place orders, cancel order, transfer assets between accounts etc.</li>
</ul>

<p>[comment]: &lt;&gt; (* <code>Withdraw</code> permission: It is used to create withdraw order, cancel withdraw order, etc. It&#39;s include Trade/ReadOnly permission)</p>

<aside class="warning">
Warning: 
These two keys are important to your account safety. Please don't share them with anyone else. If you find your API Key exposed, please remove it from your account immediately. 
</aside>
<h3 id='how-to-sign-the-endpoint'>How to sign the endpoint?</h3>
<p>Please refer to Authentication section below.</p>
<h1 id='authentication-2'>Authentication</h1>
<p>The API request may be tampered during traveling through internet. Therefore, all calls to private API endpoints must be
signed with your API key (secrete key).</p>

<p>Each API key would be assigned with a permission during application. Please check the permission, and make sure your API
key has proper permission to access the target API endpoints.</p>

<p>A valid signature for a request is generated based on the following information:</p>

<ul>
<li><code>Request Method</code>  GET/POST  (for Websocket authentication please use GET)</li>
<li><code>Host</code> The host of the API endpoints, for now it is only <code>api.kine.exchange</code></li>
<li><code>Request path</code> For example: <code>/trade/api/order/place</code></li>
<li><code>API key</code>  Your API key, which should also be included in request header <code>KINE-API-ACCESS-KEY</code> as mentioned above</li>
<li><code>SecretKey</code>  Used to sign the request</li>
<li><code>Timestamp</code> The UTC timestamp when the request is sent, which should also be included in request header <code>KINE-API-TS</code>
as mentioned above</li>
<li><code>Request Parameters</code> The parameters of the request. For both GET and POST request, all the parameters must be included
in signing.</li>
<li><code>Payload</code> The actual content to be signed. MUST be organized following the rule instructed in the <code>Payload</code> section
below.</li>
<li><code>Signature</code> The generated hash value after signing, which will be verified at server side to guarantee the request has
not been tempered, and should be included in request header  <code>KINE-API-SIGNATURE</code></li>
</ul>
<h2 id='signature'>Signature</h2>
<p>The signature is calculated according to a particular algorithm, based on the information mentioned above.</p>
<h3 id='1-prepare-the-payload-in-the-following-format'>1. Prepare the payload, in the following format:</h3><div class="highlight"><pre class="highlight plaintext"><code>{requestMethod}\n

{host}\n

{request path}\n

{request parameters}\n #If no paramters, keep it as empty line

{timestamp}
</code></pre></div>
<aside class="notice">
For a websocket request, method should be GET
</aside>

<blockquote>
<p>Payload Example</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET
api.kine.exchange
/trade/api/history
clientOrderId=123
123123123123
</code></pre></div><h3 id='2-generate-the-signature'>2. Generate the signature.</h3>
<p><code>signature = sign(payload, secretKey);</code></p>

<p><strong>sign() is the method to calculate the signature. (HMAC SHA256)</strong></p>

<p>Please refer to sample code.</p>

<blockquote>
<p>Sample Code for signature</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code>        <span class="nc">String</span> <span class="n">accessKey</span> <span class="o">=</span> <span class="s">"123485552fb24cf49412345688888888"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">secretKey</span> <span class="o">=</span> <span class="s">"e95a0ba0648215e61d7c29ad6c96c2185c2c15fa3ce173d2b412345688888888"</span><span class="o">;</span>

        <span class="c1">// sign:</span>
        <span class="nc">Mac</span> <span class="n">hmacSha256</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">hmacSha256</span> <span class="o">=</span> <span class="nc">Mac</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">"HmacSHA256"</span><span class="o">);</span>
            <span class="nc">SecretKeySpec</span> <span class="n">secKey</span> <span class="o">=</span>
                    <span class="k">new</span> <span class="nf">SecretKeySpec</span><span class="o">(</span><span class="n">secretKey</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">),</span> <span class="s">"HmacSHA256"</span><span class="o">);</span>
            <span class="n">hmacSha256</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">secKey</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">NoSuchAlgorithmException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">BadSignatureException</span><span class="o">(</span><span class="s">"No such algorithm: "</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InvalidKeyException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">BadSignatureException</span><span class="o">(</span><span class="s">"Invalid key: "</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="nc">String</span> <span class="n">payload</span> <span class="o">=</span> <span class="s">"The payload text"</span><span class="o">;</span>
        <span class="kt">byte</span><span class="o">[]</span> <span class="n">hash</span> <span class="o">=</span> <span class="n">hmacSha256</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">payload</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">));</span>
        <span class="nc">String</span> <span class="n">signature</span> <span class="o">=</span> <span class="nc">Base64</span><span class="o">.</span><span class="na">getEncoder</span><span class="o">().</span><span class="na">encodeToString</span><span class="o">(</span><span class="n">hash</span><span class="o">);</span>
</code></pre></div><h3 id='3-add-request-headers-for-signed-request'>3. Add request headers for signed request.</h3>
<ul>
<li><code>KINE-API-ACCESS-KEY</code>   The API key</li>
<li><code>KINE-API-TS</code>           The UTC timestamp</li>
<li><code>KINE-API-SIGNATURE</code>    The signature generated in Step. 2</li>
</ul>

<blockquote>
<p>signed request sample</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>GET https://api.kine.exchange/trade/api/history?clientOrderId=123

Headers:
KINE-API-TS: 1618561349256
KINE-API-ACCESS_KEY: 072285552fb24cf49412345688888888
KINE-API-SIGNATURE: xxxxxxxxxx+jJLJwYSxz7iMbA=
</code></pre></div><h1 id='market-data-api'>Market Data API</h1>
<p>Market data APIs are all with open access.</p>
<h2 id='asset-price'>Asset Price</h2>
<p>This endpoint retrieves asset prices, which are updated every second.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /market/api/price/{symbol}</code></p>
<h3 id='rate-limit'>Rate Limit</h3>
<p>5/s</p>
<h3 id='required-permission'>Required Permission</h3>
<p><code>ReadOnly</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>DataType</th>
<th>Required</th>
<th>Default Value</th>
<th>Description</th>
<th>Value Range</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>yes</td>
<td></td>
<td>the symbol, for example &#39;BTCUSD&#39;</td>
<td></td>
</tr>
</tbody></table>
<h3 id='response-content'>Response Content</h3>
<table><thead>
<tr>
<th>Field</th>
<th>DataType</th>
<th>Description</th>
<th>Value Range</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='funding-rate'>Funding Rate</h2>
<p>This endpoints retrieves the funding rate related information.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /market/api/funding-rate/{symbol}</code></p>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>DataType</th>
<th>Required</th>
<th>Default Value</th>
<th>Description</th>
<th>Value Range</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>yes</td>
<td>false</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='response-content-2'>Response Content</h3>
<table><thead>
<tr>
<th>Field</th>
<th>DataType</th>
<th>Description</th>
<th>Value Range</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>fundingRate</td>
<td>string</td>
<td>current funding rate</td>
<td></td>
</tr>
<tr>
<td>estifundingRate</td>
<td>string</td>
<td>Estimated next round funding rate</td>
<td></td>
</tr>
<tr>
<td>nextFundingTime</td>
<td>long</td>
<td>next round funding time</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>response time</td>
<td></td>
</tr>
</tbody></table>
<h1 id='trade-api'>Trade API</h1><h2 id='place-order'>Place Order</h2>
<p>Place an order</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /trade/api/order/place</code></p>
<h3 id='rate-limit-2'>Rate Limit</h3>
<p>5/s</p>
<h3 id='required-permission-2'>Required Permission</h3>
<p><code>Trade</code></p>
<h3 id='request-body-json'>Request Body(Json)</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>DataType</th>
<th>Required</th>
<th>Default Value</th>
<th>Description</th>
<th>Value Range</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>yes</td>
<td></td>
<td>symbol</td>
<td></td>
</tr>
<tr>
<td>amt</td>
<td>string</td>
<td>yes</td>
<td></td>
<td>amount</td>
<td></td>
</tr>
<tr>
<td>direct</td>
<td>string</td>
<td>yes</td>
<td></td>
<td>direction of trade</td>
<td>BUY, SELL</td>
</tr>
<tr>
<td>closePosition</td>
<td>boolean</td>
<td>yes</td>
<td></td>
<td>close position of curreny asset to zero</td>
<td>true, false</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>string</td>
<td>no</td>
<td></td>
<td>clientOrderId , which given by user</td>
<td>Valid character, A-Z,a-z,0-9,_,- length &lt;= 128</td>
</tr>
</tbody></table>

<p>examples</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.25"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clientOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-321"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"closePosition"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"direct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"clientOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-322"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"closePosition"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='response-content-3'>Response Content</h3>
<p>refer to the sample on the right side</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"clientOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"executedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"executedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"executedQuoteAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='query-order'>Query Order</h2>
<p>This endpoint retrieve the history of order by given clientOrderId. The latest order will be returned if orders have
duplicated client order IDs.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /trade/api/history</code></p>
<h3 id='rate-limit-3'>Rate Limit</h3>
<p>5/s</p>
<h3 id='required-permission-3'>Required Permission</h3>
<p><code>ReadOnly</code></p>
<h3 id='query-parameters-3'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>DataType</th>
<th>Required</th>
<th>Default Value</th>
<th>Description</th>
<th>Value Range</th>
</tr>
</thead><tbody>
<tr>
<td>clientOrderId</td>
<td>string</td>
<td>yes</td>
<td>false</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='response-content-4'>Response Content</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"clientOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direct"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"executedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"executedPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">60321</span><span class="p">,</span><span class="w">
    </span><span class="nl">"executedQuoteAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">120642</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.0642</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618531200000</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='error-code'>Error code</h3>
<table><thead>
<tr>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>31102</td>
<td>Max OI exceeded</td>
</tr>
<tr>
<td>31103</td>
<td>Less than min OI</td>
</tr>
<tr>
<td>31104</td>
<td>Invalid symbol</td>
</tr>
<tr>
<td>31105</td>
<td>Quantity precision error</td>
</tr>
<tr>
<td>31106</td>
<td>Price precision error</td>
</tr>
<tr>
<td>31107</td>
<td>No position for one-click liquidation</td>
</tr>
<tr>
<td>31108</td>
<td>Invalid parameter</td>
</tr>
<tr>
<td>31109</td>
<td>Max OI per trade exceeded</td>
</tr>
<tr>
<td>31110</td>
<td>Max OI per user exceeded</td>
</tr>
<tr>
<td>31111</td>
<td>System max OI per symbol exceeded</td>
</tr>
<tr>
<td>31112</td>
<td>Max OI by risk rate exceeded</td>
</tr>
<tr>
<td>31113</td>
<td>Symbol not enabled</td>
</tr>
<tr>
<td>31201</td>
<td>Can&#39;t place order when settlement</td>
</tr>
<tr>
<td>31202</td>
<td>Invalid amount</td>
</tr>
<tr>
<td>31203</td>
<td>Invalid direction</td>
</tr>
<tr>
<td>31204</td>
<td>Illegal client order ID</td>
</tr>
</tbody></table>
<h1 id='account-api'>Account API</h1><h2 id='query-account-balance'>Query Account Balance</h2>
<p>This endpoint retrieves user&#39;s balance</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET /account/api/account-balances</code></p>
<h3 id='rate-limit-4'>Rate Limit</h3>
<p>5/s</p>
<h3 id='required-permission-4'>Required Permission</h3>
<p><code>ReadOnly</code></p>
<h3 id='response-content-5'>Response Content</h3>
<p>The content consists 3 parts, cross, isolated and total equity.</p>

<table><thead>
<tr>
<th>Field</th>
<th>DataType</th>
<th>Description</th>
<th>Value Range</th>
</tr>
</thead><tbody>
<tr>
<td>amt</td>
<td>number</td>
<td>amount</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>string</td>
<td>symbol</td>
<td></td>
</tr>
<tr>
<td>avgPrice</td>
<td>number</td>
<td>average price</td>
<td></td>
</tr>
<tr>
<td>markValue</td>
<td>number</td>
<td>market value</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>number</td>
<td>profile</td>
<td></td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"crossEquity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"crossLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"crossMarginAccounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"avgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"markValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"profitRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"isolatedEquity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isolatedMarginAccounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"avgPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"kUSDAmt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"markValue"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"profitRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"totalEquity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"walletAccounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"equity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"walletEquity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='leverage-adjustment'>Leverage Adjustment</h2>
<p>Change leverage of isolated positions</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /account/api/update-isolated-target-leverage</code></p>
<h3 id='rate-limit-5'>Rate Limit</h3>
<p>5/s</p>
<h3 id='required-permission-5'>Required Permission</h3>
<p><code>Trade</code></p>
<h3 id='request-body-json-2'>Request Body(Json)</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>DataType</th>
<th>Required</th>
<th>Default Value</th>
<th>Description</th>
<th>Value Range</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>yes</td>
<td></td>
<td>the symbol</td>
<td></td>
</tr>
<tr>
<td>targetLeverage</td>
<td>number</td>
<td>yes</td>
<td></td>
<td>the target leverage</td>
<td></td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"targetLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='response-content-6'>Response Content</h3>
<table><thead>
<tr>
<th>Field</th>
<th>DataType</th>
<th>Description</th>
<th>Value Range</th>
</tr>
</thead><tbody>
<tr>
<td>success</td>
<td>boolean</td>
<td>true: the request be processed, false: fail</td>
<td></td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>description of the code</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td>description of the code</td>
<td></td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "code": 0,
  "data": true,
  "message": "string",
  "success": true
}
</code></pre></div><h1 id='websocket-api-3'>WebSocket API</h1>
<p>WebSocket API provide market price, order, account update data stream subscription.</p>
<h2 id='authentication-3'>Authentication</h2>
<blockquote>
<p>Sample Code for websocket signature</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code>
<span class="kd">var</span> <span class="nx">awsAccessKeyId</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">xxx</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">awsAccessKeySecret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">xxxx</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">signatureMethod</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">HmacSHA256</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">requestMethod</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">host</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">api.kine.exchange</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">path</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">/ws</span><span class="dl">"</span><span class="p">;</span>


<span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="nx">requestMethod</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">+</span> <span class="dl">"</span><span class="se">\n</span><span class="dl">"</span> <span class="o">+</span>

  <span class="nx">host</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">+</span> <span class="dl">"</span><span class="se">\n</span><span class="dl">"</span> <span class="o">+</span>

  <span class="nx">path</span> <span class="o">+</span> <span class="dl">"</span><span class="se">\n</span><span class="dl">"</span> <span class="o">+</span>

  <span class="dl">"</span><span class="s2">accessKey=</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">awsAccessKeyId</span> <span class="o">+</span> <span class="dl">"</span><span class="se">\n</span><span class="dl">"</span> <span class="o">+</span>

  <span class="dl">""</span> <span class="o">+</span> <span class="nx">timestamp</span><span class="p">;</span>
<span class="p">;</span>

<span class="kd">var</span> <span class="nx">signatureBytes</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacSHA256</span><span class="p">(</span><span class="nx">payload</span><span class="p">,</span> <span class="nx">awsAccessKeySecret</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">enc</span><span class="p">.</span><span class="nx">Base64</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">signatureBytes</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">authMessage</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">authMessage</span><span class="p">.</span><span class="nx">op</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">AUTH</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">authMessage</span><span class="p">.</span><span class="nx">ts</span> <span class="o">=</span> <span class="nx">timestamp</span><span class="p">;</span>
<span class="nx">authMessage</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">authMessage</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">accessKey</span> <span class="o">=</span> <span class="nx">awsAccessKeyId</span><span class="p">;</span>
<span class="nx">authMessage</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">ts</span> <span class="o">=</span> <span class="nx">timestamp</span><span class="p">;</span>
<span class="nx">authMessage</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">signature</span> <span class="o">=</span> <span class="nx">signature</span><span class="p">;</span>
<span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">app-id</span><span class="dl">"</span><span class="p">,</span> <span class="nx">awsAccessKeyId</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">app-key</span><span class="dl">"</span><span class="p">,</span> <span class="nx">awsAccessKeySecret</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">signature</span><span class="dl">"</span><span class="p">,</span> <span class="nx">signature</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">payload</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">authMessage</span><span class="p">));</span>


</code></pre></div>
<p>A websocket session requires a signed <code>AUTH</code> message as its first message. With this signed auth message verified, the
websocket session will be marked as authorised, after which, it can subscribe projected streams (Order/Account).</p>

<p>The signed auth message is a json message. The payload is similar with REST API.</p>
<h3 id='auth-message'>Auth Message</h3>
<blockquote>
<p>websocket auth message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTH"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618232922010</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"accessKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"96b514aee78f1a1ed1a24453fc8e5c52b1c04361"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678789</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4F65x5A2bLyMWVQj3Aqp+B4w+ivaA7n5Oi2SuYtCJ9o="</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Response:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTH_RESULT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618805541051</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="mi">10079469</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Payload Example</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>--------
GET
api.kine.exchange
/ws
accessKey=xxxxxxxxxxxx
123432345
---------
</code></pre></div>
<p>The signature is same as Rest API. The auth message refer to the example.</p>
<h2 id='live-check-ping-pong'>Live check (Ping/Pong)</h2>
<blockquote>
<p>Ping Message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PING"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618232485224</span><span class="p">,</span><span class="w">
  </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Pong Message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PONG"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618232485337</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PING"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618232485224</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>We use a customized ping/pong message, rather than websocket protocol ping/pong frame.</p>

<p>We support both direction ping/pong, server ping and client ping. Once the client/server received the ping message, they
must reply a pong message ASAP.</p>

<aside class="warning">
MUST reply a pong when you received a ping.
Websocket server sends ping to client every `5s`. If no pong message is received within `15s`, the session will be closed from server side.
</aside>
<h2 id='session-limit'>Session limit</h2>
<p>There are some limits about the websocket session.</p>

<table><thead>
<tr>
<th>Limit</th>
<th>Limit Type</th>
<th>Limit Value</th>
<th>Deesc</th>
</tr>
</thead><tbody>
<tr>
<td>Sessions per IP</td>
<td>count</td>
<td>50</td>
<td>Max number of sessions per IP</td>
</tr>
<tr>
<td>Sessions per API key</td>
<td>count</td>
<td>10</td>
<td>Max number of authed sessions per API key</td>
</tr>
<tr>
<td>Message rate per session</td>
<td>Rate</td>
<td>10/s</td>
<td>Incoming message rate limit per session (No limit for output)</td>
</tr>
<tr>
<td>Max live time</td>
<td>Duration</td>
<td>24h</td>
<td>Session max live time. Server will close the session once it&#39;s expired</td>
</tr>
</tbody></table>
<h2 id='subscribe-topics'>Subscribe Topics</h2>
<blockquote>
<p>subscribe message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618646119181</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{topic name}"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUB_RESULT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618805541048</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{topic name}"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>un-subscribe message</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UN_SUB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618646119181</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{topic name}"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UN_SUB_RESULT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618805541048</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{topic name}"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Client send subscribe message to subscribe data stream.</p>

<table><thead>
<tr>
<th>Topic Name</th>
<th>Comment</th>
</tr>
</thead><tbody>
<tr>
<td>md.index-price.aggregated</td>
<td>Aggregated Price, witch include all asset price</td>
</tr>
<tr>
<td>account.all</td>
<td>Account Update</td>
</tr>
</tbody></table>
<h2 id='price-data-stream'>Price Data Stream</h2>
<p>Price topic : <code>md.index-price.aggregated</code></p>

<p>The process to establish price consuming is:</p>

<ul>
<li>Client initiate the connection by sending the subscription message</li>
<li>Server will respond a success message if the request is accepted</li>
<li>Prices will send to client from server every 500ms.</li>
</ul>
<h3 id='message-examples'>Message examples</h3>
<p>Please find them on the right side.</p>

<blockquote>
<p>Subscribe the prices</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618646119181</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"md.index-price.aggregated"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Subscribe Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUB_RESULT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618646119344</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"md.index-price.aggregated"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example of price response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"md.index-price.aggregated"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DATA"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618646334452</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62120"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618644164511</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RAZEUSD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.59"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618646262217</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETHUSD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2455.3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618644164511</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">....</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='response-of-price'>Response of price</h4>
<table><thead>
<tr>
<th>Field</th>
<th>DataType</th>
<th>Description</th>
<th>Value Range</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>Asset Symbol</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>String</td>
<td>Current price</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>long</td>
<td>UTC timestamp</td>
<td></td>
</tr>
</tbody></table>
<h2 id='account-update'>Account Update</h2>
<p>Topic: <code>account.all</code></p>

<p>The account snapshots will be published to client on two conditions</p>

<ol>
<li>On price change, snapshots of all accounts will be published to client every 3 seconds, recalculated by latest
prices.</li>
<li>Asset change. Some user activities, such as placing an order, transferring / withdrawing assets, will lead to a
publish.</li>
</ol>

<blockquote>
<p>Subscribe account</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUB"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618646724055</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account.all"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Subscribe response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUB_RESULT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618646119344</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account.all"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>User accounts</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account.all"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DATA"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1618990231304</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"totalEquity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3034.37796911"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"walletEquity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"161.47170911"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"walletAccounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KINE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57.28470000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"equity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"161.47164911"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kUSD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00006000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"equity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00006000"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"crossLeverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"crossEquity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2872.90626000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"crossMarginAccounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"markValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"profitRate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"avgPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"isolatedEquity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isolatedMarginAccounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XRPUSD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"markValue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"avgPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"profit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"profitRate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"kUSDAmt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>DataType</th>
<th>Description</th>
<th>Value Range</th>
</tr>
</thead><tbody>
<tr>
<td>totalEquity</td>
<td>Number</td>
<td>walletEquity + crossEquity + isolatedEquity</td>
<td></td>
</tr>
<tr>
<td>walletEquity</td>
<td>Number</td>
<td>wallet equity</td>
<td></td>
</tr>
<tr>
<td>crossEquity</td>
<td>Number</td>
<td>cross equity</td>
<td></td>
</tr>
<tr>
<td>crossLeverage</td>
<td>Number</td>
<td>leverage cross account</td>
<td></td>
</tr>
<tr>
<td>isolatedEquity</td>
<td>Number</td>
<td>wallet equity</td>
<td></td>
</tr>
<tr>
<td>walletAccounts</td>
<td>List<WalletAccount></td>
<td>Wallet account details for all assets</td>
<td></td>
</tr>
<tr>
<td>crossMarginAccounts</td>
<td>List<CrossMarginAccount></td>
<td>Cross margin account details for all assets</td>
<td></td>
</tr>
<tr>
<td>isolatedMarginAccounts</td>
<td>List<IsolatedMarginAccount></td>
<td>Isolated margin account details for all assets</td>
<td></td>
</tr>
</tbody></table>

<p><strong>WalletAccount</strong></p>

<table><thead>
<tr>
<th>Field</th>
<th>DataType</th>
<th>Description</th>
<th>Value Range</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>currency</td>
<td>Asset Reference</td>
</tr>
<tr>
<td>amt</td>
<td>Number</td>
<td>amount</td>
<td></td>
</tr>
<tr>
<td>equity</td>
<td>Number</td>
<td>equity</td>
<td></td>
</tr>
</tbody></table>

<p><strong>CrossMarginAccount</strong></p>

<table><thead>
<tr>
<th>Field</th>
<th>DataType</th>
<th>Description</th>
<th>Value Range</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>symbol of the asset</td>
<td>Asset Reference</td>
</tr>
<tr>
<td>amt</td>
<td>Number</td>
<td>amount</td>
<td></td>
</tr>
<tr>
<td>markValue</td>
<td>Number</td>
<td>current mark value</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>Number</td>
<td>profit</td>
<td></td>
</tr>
<tr>
<td>profitRate</td>
<td>Number</td>
<td>profit rate</td>
<td></td>
</tr>
<tr>
<td>avgPrice</td>
<td>Number</td>
<td>average price</td>
<td></td>
</tr>
</tbody></table>

<p><strong>IsolatedMarginAccount</strong></p>

<table><thead>
<tr>
<th>Field</th>
<th>DataType</th>
<th>Description</th>
<th>Value Range</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>String</td>
<td>symbol of the asset</td>
<td>Asset Reference</td>
</tr>
<tr>
<td>amt</td>
<td>Number</td>
<td>amount</td>
<td></td>
</tr>
<tr>
<td>markValue</td>
<td>Number</td>
<td>mark value</td>
<td></td>
</tr>
<tr>
<td>profit</td>
<td>Number</td>
<td>profit</td>
<td></td>
</tr>
<tr>
<td>profitRate</td>
<td>Number</td>
<td>profit rate</td>
<td></td>
</tr>
<tr>
<td>kUSDAmt</td>
<td>Number</td>
<td>kUSD Amount</td>
<td></td>
</tr>
<tr>
<td>leverage</td>
<td>Number</td>
<td>leverage</td>
<td></td>
</tr>
<tr>
<td>liquidationPrice</td>
<td>Number</td>
<td>liquidation price</td>
<td></td>
</tr>
</tbody></table>
<h1 id='reference'>Reference</h1><h2 id='asset-reference'>Asset Reference</h2>
<table><thead>
<tr>
<th>Asset Symbol</th>
<th>Base Currency</th>
<th>Quote Currency</th>
<th>Comment</th>
</tr>
</thead><tbody>
<tr>
<td>BTCUSD</td>
<td>BTC</td>
<td>kUSD</td>
<td>xx</td>
</tr>
<tr>
<td>ETHUSD</td>
<td>ETH</td>
<td>kUSD</td>
<td>xx</td>
</tr>
<tr>
<td>LTCUSD</td>
<td>LTC</td>
<td>kUSD</td>
<td>xx</td>
</tr>
<tr>
<td>FILUSD</td>
<td>FIL</td>
<td>kUSD</td>
<td>xx</td>
</tr>
<tr>
<td>XRPUSD</td>
<td>XRP</td>
<td>kUSD</td>
<td>xx</td>
</tr>
<tr>
<td>LINKUSD</td>
<td>LINK</td>
<td>kUSD</td>
<td>xx</td>
</tr>
<tr>
<td>UNIUSD</td>
<td>UNI</td>
<td>kUSD</td>
<td>xx</td>
</tr>
<tr>
<td>COMPUSD</td>
<td>COMP</td>
<td>kUSD</td>
<td>xx</td>
</tr>
<tr>
<td>SNXUSD</td>
<td>SNX</td>
<td>kUSD</td>
<td>xx</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>The Kine API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified endpoint could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a endpoint with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- Your requests exceeded the rate limit.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
